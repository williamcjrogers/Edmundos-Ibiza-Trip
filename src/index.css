body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

code {
  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',
    monospace;
}

/* Cigar intro animation */
.cigar-intro-overlay {
	position: fixed;
	inset: 0;
	background: rgba(13, 8, 6, 0.94);
	z-index: 9999;
	display: flex;
	align-items: center;
	justify-content: center;
	pointer-events: none;
	animation: overlay-fade 6.5s ease forwards;
}

.cigar-path {
	position: relative;
	width: 100vw;
	max-width: 760px;
	height: 160px;
	overflow: visible;
}

.cigar {
	position: absolute;
	left: -220px;
	top: 50%;
	transform: translateY(-50%);
	width: 220px;
	height: 44px;
	border-radius: 22px;
	background: linear-gradient(90deg, #3b2a22 0%, #6a4a3a 40%, #2b1b14 100%);
	box-shadow: inset 0 0 10px rgba(0,0,0,0.6), 0 10px 26px rgba(0,0,0,0.5);
	animation: cigar-slide 5.2s ease-out forwards;
}

.ember {
	position: absolute;
	left: -14px;
	top: 50%;
	transform: translate(-50%, -50%);
	width: 26px;
	height: 26px;
	border-radius: 50%;
	background: radial-gradient(circle, rgba(255,150,70,0.95) 0%, rgba(255,80,0,0.85) 35%, rgba(120,20,0,0.15) 70%);
	filter: blur(0.6px);
	animation: ember-flicker 1.2s infinite alternate ease-in-out, ember-trail 5.2s ease-out forwards;
}

.smoke {
	position: absolute;
	left: 0;
	top: 50%;
	width: 2px;
	height: 2px;
	border-radius: 50%;
	background: transparent;
	box-shadow:
		0 0 0 0 rgba(200,200,200,0.0),
		50px -50px 24px 14px rgba(200, 200, 200, 0.06),
		100px -110px 34px 20px rgba(210, 210, 210, 0.07),
		150px -170px 44px 26px rgba(220, 220, 220, 0.08);
	animation: smoke-rise 5.2s ease-out forwards;
}
.smoke2 {
	filter: blur(1.2px);
	opacity: 0.8;
	animation-duration: 6.0s;
}
.smoke3 {
	filter: blur(1.8px);
	opacity: 0.6;
	animation-duration: 6.8s;
}

@keyframes cigar-slide {
	0% { transform: translate(-220px, -50%); opacity: 0; }
	10% { opacity: 1; }
	100% { transform: translate(calc(100vw - 220px), -50%); opacity: 1; }
}

@keyframes ember-trail {
	0% { transform: translate(-50%, -50%); opacity: 0.95; }
	100% { transform: translate(calc(100vw - 220px - 50%), -50%); opacity: 0.7; }
}

@keyframes ember-flicker {
	0% { filter: blur(0.6px) brightness(1); box-shadow: 0 0 26px rgba(255,80,0,0.55); }
	100% { filter: blur(1px) brightness(1.25); box-shadow: 0 0 40px rgba(255,120,0,0.75); }
}

@keyframes smoke-rise {
	0% { opacity: 0.0; }
	20% { opacity: 0.35; }
	100% { opacity: 0.0; }
}

@keyframes overlay-fade {
	0% { opacity: 1; }
	85% { opacity: 1; }
	100% { opacity: 0; }
}
